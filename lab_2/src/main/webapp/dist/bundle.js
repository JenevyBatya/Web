(()=>{var e={671:(e,t,n)=>{"use strict";function o(e){let t=document.getElementById("errorBlock");t.style.display="flex",t.textContent=e,setTimeout((function(){t.style.display="none"}),5e3)}function c(e,t,n,c,r){let i=!1,a=!1,s=!1,u=[];if(e.length>0?e[0]instanceof Element?e.forEach((function(e){u.push(e.value)})):u.push(e[0]):i=!0,(!/^(-?\d+|-?\d+\.\d+)$/.test(t)||parseFloat(d(t))<-3||parseFloat(d(t))>5)&&(a=!0),n||(s=!0),console.log(i,a,s),i)return o("Выберите хотя бы один чекбокс"),null;if(a)return o("Невалидные данные в поле Y"),null;if(s)return o("Выберите R"),null;{let e={X:u,Y:t,R:n.value};console.log("Sent data",e),fetch("ControllerServlet",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(e.ok)return e.json();throw new Error("Ошибка HTTP: "+e.status)})).then((e=>{console.log("Accepted data",e),l(e),0!==e[0].length&&(console.log(e[0].status+"right after accepted data"),c(e[0].status))})).catch((e=>{o("Невалидные данные в поле Y"),c(null)}))}}function l(e){try{0!==e[0].length&&e.forEach((e=>{const t=document.createElement("tr"),n=document.createElement("td");n.textContent=e.X,t.appendChild(n);const o=document.createElement("td");o.textContent=e.Y,t.appendChild(o);const c=document.createElement("td");c.textContent=e.R,t.appendChild(c);const l=document.createElement("td");l.textContent=e.status,t.appendChild(l);const d=document.createElement("td");d.textContent=e.date,t.appendChild(d);const r=document.createElement("td");r.textContent=e.time,t.appendChild(r),t.addEventListener("click",(function(){!function(e){let t=e.getElementsByTagName("td");for(let e=0;e<t.length;e++)console.log(t[e].textContent);window.open("lab_2-1.0-SNAPSHOT/resultPage.jsp")}(t)})),document.getElementById("table_for_results").appendChild(t)}))}catch(e){}}function d(e){const t=e.split(".");let n="";const o=/\d+/;if(2===t.length){const e=t[0],c=t[1];let l="0";for(let t=0;t<c.length;t++){const d=c[t];if(o.test(d)&&o.test(e)){if(parseInt(d,10)>0){l="0".repeat(Math.min(5,t))+d,n=`${e}.${l}`;break}}else n="a"}}else n=o.test(t[0])?t[0]:"a";return n}n.r(t),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("final_button");fetch("ControllerServlet",{method:"GET"}).then((e=>e.json())).then((e=>{l(e)})).catch((e=>console.error(e))),e.addEventListener("click",(function(){c(document.querySelectorAll('input[type="checkbox"]:checked'),document.getElementById("choose_y").value,document.querySelector('input[type="radio"]:checked'))}))})),n(583),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("svg_graph"),t=document.getElementById("OXY"),n=document.getElementById("points");let o=0;document.querySelectorAll('input[type="radio"][name="option"]').forEach((t=>{t.addEventListener("change",(()=>{o=t.value,function(t){console.log(t);const n=document.getElementById("dynamicRect"),o=document.getElementById("dynamicCircle"),c=document.getElementById("dynamicTriangle");n&&e.removeChild(n),o&&e.removeChild(o),c&&e.removeChild(c);const l=document.createElementNS("http://www.w3.org/2000/svg","rect"),d=document.createElementNS("http://www.w3.org/2000/svg","path"),r=document.createElementNS("http://www.w3.org/2000/svg","polygon");l.setAttribute("id","dynamicRect"),l.setAttribute("x",250),l.setAttribute("y",250-50*t*.5),l.setAttribute("width",50*t),l.setAttribute("height",50*t*.5),l.setAttribute("fill","#5b6ca3"),e.appendChild(l),d.setAttribute("id","dynamicCircle");const i=25*t,a=`M 250 250 L ${250+i*Math.cos(Math.PI/180*0)} ${250+i*Math.sin(Math.PI/180*0)} A ${i} ${i} 0 0 1 ${250+i*Math.cos(Math.PI/180*90)} ${250+i*Math.sin(Math.PI/180*90)} Z`;d.setAttribute("d",a),d.setAttribute("fill","#5b6ca3"),e.appendChild(d),r.setAttribute("id","dynamicTriangle");let s=250-50*t,u=250+50*t*.5;r.setAttribute("points",s+",250 250,250 250,"+u),r.setAttribute("fill","#5b6ca3"),e.appendChild(r)}(o)}))})),t.addEventListener("click",(function(t){let o,l=t.clientX-e.getBoundingClientRect().left,d=t.clientY-e.getBoundingClientRect().top,r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",l),r.setAttribute("cy",d),r.setAttribute("r",2),c([""+-(250-l)/50],""+(250-d)/50,document.querySelector('input[type="radio"]:checked'),(function(e){console.log(e+" addpoint"),o=e,"Попадание"===o?r.setAttribute("fill","green"):r.setAttribute("fill","red"),n.appendChild(r),console.log("svgPoints.appendChild(point)")}))}))}))},583:(e,t,n)=>{document.addEventListener("DOMContentLoaded",(function(){function e(){const e=document.querySelectorAll('#table_for_checkboxes input[type="checkbox"]'),t=document.getElementById("choose_y"),n=Array.from(e).map((e=>({value:e.value,checked:e.checked}))),o=t.value;localStorage.setItem("checkboxValues",JSON.stringify(n)),localStorage.setItem("chooseY",o)}n(671),document.querySelectorAll('#table_for_checkboxes input[type="checkbox"]').forEach((t=>{t.addEventListener("change",e)})),document.getElementById("choose_y").addEventListener("input",e),window.addEventListener("load",(function(){const e=document.querySelectorAll('#table_for_checkboxes input[type="checkbox"]'),t=document.getElementById("choose_y"),n=JSON.parse(localStorage.getItem("checkboxValues"))||[];for(const t of e){const e=n.find((e=>e.value===t.value));e&&(t.checked=e.checked)}const o=localStorage.getItem("chooseY");t.value=o||""}))}))}},t={};function n(o){var c=t[o];if(void 0!==c)return c.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(671)})();