(()=>{var e={531:()=>{document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("final_button");function t(e){let t=document.getElementById("errorBlock");t.style.display="flex",t.textContent=e,setTimeout((function(){t.style.display="none"}),5e3)}function n(e){try{0!==e[0].length&&(console.log(e[0].length),e.forEach((e=>{const t=document.createElement("tr"),n=document.createElement("td");n.textContent=e.X,t.appendChild(n);const o=document.createElement("td");o.textContent=e.Y,t.appendChild(o);const c=document.createElement("td");c.textContent=e.R,t.appendChild(c);const l=document.createElement("td");l.textContent=e.status,t.appendChild(l);const a=document.createElement("td");a.textContent=e.date,t.appendChild(a);const r=document.createElement("td");r.textContent=e.time,t.appendChild(r),document.getElementById("table_for_results").appendChild(t)})))}catch(e){}}function o(e){const t=e.split(".");let n="";const o=/\d+/;if(2===t.length){const e=t[0],c=t[1];let l="0";for(let t=0;t<c.length;t++){const a=c[t];if(o.test(a)&&o.test(e)){if(parseInt(a,10)>0){l="0".repeat(Math.min(5,t))+a,n=`${e}.${l}`;break}}else n="a"}}else n=o.test(t[0])?t[0]:"a";return n}!function(e){if(0!==e.length){let t=[];for(let n of e)0!==n.length&&t.push(n);n(t)}else{let e={data:[],expirationTime:Date.now()+18e5};localStorage.setItem("data",JSON.stringify(e))}}(function(){let e=localStorage.getItem("data");if(e){let t=JSON.parse(e);if(Date.now()<=t.expirationTime)return t.data;localStorage.removeItem("data")}return[]}()),e.addEventListener("click",(function(){let e=!1,c=!1,l=!1,a=document.querySelectorAll('input[type="checkbox"]:checked'),r=[];a.length>0?a.forEach((function(e){r.push(e.value)})):e=!0;let d=document.getElementById("choose_y").value;(!/^(\d+|\d+\.\d+)$/.test(d)||parseFloat(o(d))<-3||parseFloat(o(d))>5)&&(c=!0);let i=document.querySelector('input[type="radio"]:checked');if(i||(l=!0),console.log(e,c,l),e)t("Выберите хотя бы один чекбокс");else if(c)t("Невалидные данные в поле Y");else if(l)t("Выберите R");else{let e={X:r,Y:d,R:i.value};console.log("Sent data",e),fetch("ControllerServlet",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(e.ok)return e.json();throw new Error("Ошибка HTTP: "+e.status)})).then((e=>{console.log("Accepted data",e),n(e),function(e){let t=JSON.parse(localStorage.getItem("data")),n={data:t.data.concat(e),expirationTime:t.expirationTime};localStorage.setItem("data",JSON.stringify(n))}(e)})).catch((e=>{t("Невалидные данные в поле Y")}))}}))}))},960:(e,t,n)=>{"use strict";n.r(t),n(531),n(583),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("svg_graph");let t=0;document.querySelectorAll('input[type="radio"][name="option"]').forEach((n=>{n.addEventListener("change",(()=>{t=n.value,console.log(t),function(t){console.log(t);const n=document.getElementById("dynamicRect");n&&e.removeChild(n);const o=document.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("id","dynamicRect"),o.setAttribute("x",250-50*t*.5),o.setAttribute("y",250-50*t),o.setAttribute("width",50*t*.5),o.setAttribute("height",50*t),o.setAttribute("fill","#5b6ca3"),e.appendChild(o)}(t)}))}))}))},583:(e,t,n)=>{document.addEventListener("DOMContentLoaded",(function(){function e(){const e=document.querySelectorAll('#table_for_checkboxes input[type="checkbox"]'),t=document.getElementById("choose_y"),n=Array.from(e).map((e=>({value:e.value,checked:e.checked}))),o=t.value;localStorage.setItem("checkboxValues",JSON.stringify(n)),localStorage.setItem("chooseY",o)}n(960),document.querySelectorAll('#table_for_checkboxes input[type="checkbox"]').forEach((t=>{t.addEventListener("change",e)})),document.getElementById("choose_y").addEventListener("input",e),window.addEventListener("load",(function(){const e=document.querySelectorAll('#table_for_checkboxes input[type="checkbox"]'),t=document.getElementById("choose_y"),n=(document.querySelectorAll('input[name="option"]'),JSON.parse(localStorage.getItem("checkboxValues"))||[]);for(const t of e){const e=n.find((e=>e.value===t.value));e&&(t.checked=e.checked)}const o=localStorage.getItem("chooseY");t.value=o||""}))}))}},t={};function n(o){var c=t[o];if(void 0!==c)return c.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(960)})();